var epic=function(){function n(){}return window.console===undefined&&(window.console={log:function(){}}),n.type=function(){function n(n){var r=typeof n;return n==null?"null":r==="object"||r==="function"?t[i.call(n)]||"object":r}var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"},i=t.toString;return n.is_window=function(n){return n!=null&&n==n.window},n.is_numeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},n.is_undefined=function(n){return typeof n=="undefined"},n.is_array=function(t){return n(t)==="array"},n.is_function=function(t){return n(t)==="function"},n.is_string=function(t){return n(t)==="string"},n.is_object=function(t){return n(t)==="object"},n.is_boolean=function(t){return n(t)=="boolean"},n.is_regexp=function(t){return n(t)=="regexp"},n.is_element=function(n){var t=typeof HTMLElement=="object";return t?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"},n}(),n.parse={currency:function(n,t){for(var f=n+"",r=f.split("."),i=r[0],e=r.length?"."+r[1]:"",u=/(\d+)(\d{3})/;u.test(i);)i=i.replace(u,"$1,$2");return(t?t+" ":"")+i+e},url:function(n){var t=document.createElement("a"),i={};return t.href=n,t.search.replace(/([^?=&]+)(=([^&]*))?/g,function(n,t,r,u){return i[t]=u,n}),{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname,query:i,bookmark:t.hash}}},n.log=n.fail=function(n){console.log(n)},n.start=function(n){n()},n}();(function(n){n.uid=function(){function n(){}return n.seed=(new Date).getTime(),n.next=function(){return++n.seed},n}()})(epic),function(n){function t(n){return new r(n,u(arguments))}function r(n,t){this.object=n;this.arguments=t}function i(t,r){var s=n.type(t),u,e,f,o;switch(s){case"object":u=r||{};for(e in t)t.hasOwnProperty(e)&&(u[e]=i(t[e]));break;case"array":for(u=r||[],f=0,o=t.length;f<o;f++)u[f]=i(t[f]);break;case"date":u=new Date;u.setTime(t.getTime());break;default:u=t}return u}function f(){for(var t=arguments,u=t.length,r={},n=0;n<u;n++)i(t[n],r);return r}function u(n){if(n==null)return null;var t=Array.prototype.slice.call(n);return t.length>0?t:[n]}r.prototype={extends_from:function(n){function r(){this.constructor=t;this.base_class=n;this.base=function(){this.base_class.apply(this,arguments)}}var t=this.object;for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);r.prototype=n.prototype;t.prototype=new r}};t.merge=f;t.clone=i;t.to_array=u;n.object=t}(epic),function(n){function t(t){return new r(t,n.object.to_array(arguments))}function r(n,t){this.input=n;this.arguments=t}function u(n){var t=n.charCodeAt(0);return t>31&&t<96||t>96&&t<127?n:"&#"+t+";"}function f(n){var t=n.charCodeAt(0);return t!=34&&t!=39&&t!=38&&t!=60&&t!=62&&(t>31&&t<96||t>96&&t<127)?n:"&#"+t+";"}function e(n){return String.fromCharCode(n.replace(/[#&;]/g,""))}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode_base64=function(n){for(var r=i,u=t.encode_utf8(n),y=u.length,f=0,h="",c,e,o,a,v,l,s;f<y;)c=u.charCodeAt(f++),e=u.charCodeAt(f++),o=u.charCodeAt(f++),a=c>>2,v=(c&3)<<4|e>>4,l=(e&15)<<2|o>>6,s=o&63,isNaN(e)?l=s=64:isNaN(o)&&(s=64),h=h+r.charAt(a)+r.charAt(v)+r.charAt(l)+r.charAt(s);return h};t.decode_base64=function(n){for(var e=i,u=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),y=u.length,f=0,r="",c,l,a,v,s,o,h;f<y;)v=e.indexOf(u.charAt(f++)),s=e.indexOf(u.charAt(f++)),o=e.indexOf(u.charAt(f++)),h=e.indexOf(u.charAt(f++)),c=v<<2|s>>4,l=(s&15)<<4|o>>2,a=(o&3)<<6|h,r=r+String.fromCharCode(c),o!=64&&(r=r+String.fromCharCode(l)),h!=64&&(r=r+String.fromCharCode(a));return t.decode_utf8(r)};t.encode_utf8=function(n){for(var r=n.replace(/\r\n/g,"\n"),u=r.length,f=0,i="",t;u--;)t=r.charCodeAt(f++),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i};t.decode_utf8=function(n){for(var e=n.length,t=0,r="",i,u,f;t<e;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(u=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|u&63),t+=2):(u=n.charCodeAt(t+1),f=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(u&63)<<6|f&63),t+=3);return r};t.encode_url=function(n){return encodeURIComponent(n)};t.decode_url=function(n){return decodeURIComponent(n)};t.encode_html_entities=function(n,t){return n.replace(/./g,t?f:u)};t.decode_html_entities=function(n){return n.replace(/&#(\d)+;/g,e)};t.uppercase=function(n){return n.toUpperCase()};t.lowercase=function(n){return n.toLowerCase()};t.trim=function(n,t){return n=n.replace(/^\s+|\s+$/gm,""),t&&(n=n.replace(/\s+/g," ")),n};t.is_html=function(n){return/^<(\w)+(\b[^>]*)\/?>(.*?)(<\w+\/?>)?$/i.test(n)};t.to_dom=function(t){var i=document.createElement("div");return i.innerHTML=t,new n.html.selector(Array.prototype.slice.call(i.childNodes))};n.string=t}(epic),function(n){function t(){}t.flatten=function(n){var t=[];return t.concat.apply(t,n)};t.each=Array.prototype.forEach||function(n,t,i){var r=0,u=n.length;for(i=i||n;r<u;r++)if(t.call(i,n[r],r,n)===!1)break};n.array=t}(epic);epic.collection=function(){function n(){this.collection={}}function t(n){var t=this,r=t.to_string(n),i=t.collection[r];return typeof i=="undefined"?undefined:i.value}function i(n,t){if(n===undefined||t===undefined)return undefined;var i=this.get(n);return this.collection[this.to_string(n)]={key:n,value:t},i}function r(n){var t=this,i=t.to_string(n),r=t.collection[i];return r!=undefined?(delete this.collection[i],r.value):undefined}function u(n){return String(n)}return n.prototype={get:t,set:i,remove:r,to_string:u},n}(),function(n,t,i,r){function c(t){for(var o=t.length,s=0,i,r,u,f,e;o--;)if(i=t[s++],r=i[0],u=i[1],f=i[2],e=i[3],r&&r.indexOf(f||u)>-1)return new RegExp((e||f||u)+"[\\/\\s](\\d+\\.\\d+)").test(r),[n.string.lowercase(u),parseFloat(RegExp.$1)];return null}function v(n){var r=i.createElement("a"),u,t="";return r.href=i.location,u=r.port,n&&(t=r.pathname.replace(/^[/]/,""),t&&(t=t.substring(0,t.lastIndexOf("/"))+"/")),r.protocol+"//"+r.hostname+(u&&u!=0?":"+u:"")+"/"+t}function y(n,t,r){var o,c="src",h,l=typeof t,u,e,a;return(/^http/i.test(n)==!1&&(n=f.url+n),s[n]!=null)?(r&&r.free(),s[n].element):(l=="function"&&(r=t),l!="string"&&(t=n.split("?")[0].file_ext()),t=="js"?(o="script",h=t="javascript"):(o="link",c="href",h="stylesheet"),u=i.createElement(o),u.setAttribute("type","text/"+t),u.setAttribute("rel",h),u.setAttribute(c,n),e={element:u,loaded:!1,callback:r},r&&(u.onreadystatechange=function(){var n=this.readyState;(n==="loaded"||n==="complete")&&e.loaded==!1&&(this.onreadystatechange=null,e.loaded=!0,e.callback())},u.onload=function(){e.loaded==!1&&(e.loaded=!0,e.callback())},t=="css"&&f.name=="firefox"&&(u.textContent='@import "'+n+'"',a=setInterval(function(){try{clearInterval(a);r&&r()}catch(n){}},50))),setTimeout(function(){i.getElementsByTagName("head")[0].insertBefore(u,null)},10),s[n]=e,u)}var u=r.userAgent,e=r.vendor,o=r.platform,l=[[u,"Chrome"],[u,"OmniWeb","","OmniWeb/"],[e,"Safari","Apple","Version"],[t.opera,"Opera"],[e,"iCab"],[e,"Konqueror","KDE"],[u,"Firefox"],[e,"Camino"],[u,"Netscape"],[u,"Explorer","MSIE"],[u,"Gecko","Mozilla","rv"],[u,"Netscape","Mozilla"]],a=[[o,"Windows","Win"],[o,"Mac"],[u,"iPhone","iPhone/iPod"],[o,"Linux"]],h=c(l),f=n.browser={webkit:u.indexOf("AppleWebKit/")>-1,gecko:u.indexOf("Gecko")>-1&&u.indexOf("KHTML")===-1,name:h[0],os:c(a)[0],version:h[1],load:function(n,t,i){setTimeout(function(){y(n,t,i)},10)}},s=[];if(f.ie=f.name=="explorer",f.get_current_url=v,f.ie)try{i.execCommand("BackgroundImageCache",!1,!0)}catch(p){}}(epic,window,document,navigator),function(n,t,i){function u(n){this.element=n;this.elements=o(arguments)}function f(t){t=t!=null?t:[];this.elements=n.type(t)=="array"?t:[t]}function r(t){var u=Array.prototype.slice.call(arguments),f;return s(t)?n.string.to_dom(t):t=="option"?r.option(u[0],u[1],u[2]):(f=t=="textnode"?i.createTextNode(t):i.createElement(t),new n.html.selector(f))}function o(n){return e.flatten(e.each(n,h))}function h(t,i,r){t instanceof f?r[i]=t.elements:typeof t=="string"&&(r[i]=n.html.create(t))}var s=n.string.is_html,e=n.array;f.prototype={empty:function(){for(var t=this,i=t.elements,r=i.length,n;r--;)for(n=i[r];n.firstChild;)n.removeChild(n.firstChild);return t},insert:function(t,r){t=o(t);var a=this,s=t.length,h=a.elements[0],c=null,u,e=[];if(r!==undefined){for(var l=h.childNodes,v=l.length,y=n.string.trim,p=0,f;v--;)f=l[p++],(f.nodeType==1||f.nodeType==3&&y(f.textContent)!="")&&(e[e.length]=f);r>-1&&r<e.length&&(c=e[r])}while(s--)(u=t[s],u)&&(u.nodeType||(u=i.createTextNode(u)),h.insertBefore(u,c))},append:function(){return this.insert(arguments,undefined)},get:function(n){var t=this.elements,i=t.length-1;return n<0?n=0:n>i&&(n=i),t[n]}};r.document_fragment=function(n,t){var r=i.createDocumentFragment(),u,f,e;if(n)if(u=i.createElement("div"),u.innerHTML=n,t)(function(){u.firstChild?(r.appendChild(u.firstChild),setTimeout(arguments.callee,0)):t(r)})();else for(e=u.childNodes,f=e.length;f--;)r.insertBefore(e[f],r.firstChild);return r};r.option=function(t,r,u){var f=i.createElement("option");return u==undefined&&r===!0&&(u=!0,r=null),r=r==null?t:r,f.insertBefore(i.createTextNode(t),null),f.setAttribute("value",r),u&&f.setAttribute("selected","selected"),new n.html.selector(f)};r.script=function(t){var r=i.createElement("script"),u="innerText"in r?"innerText":"textContent";return r.setAttribute("type","text/javascript"),setTimeout(function(){i.getElementsByTagName("head")[0].insertBefore(r,null);r[u]=t},10),new n.html.selector(r)};r.style=function(t){var r=i.createElement("style");return r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:r.insertBefore(i.createTextNode(t),null),i.getElementsByTagName("head")[0].insertBefore(r,null),new n.html.selector(r)};u.select=function(n){return n instanceof n?n:new n(n)};u.selector=f;u.create=r;n.html=u}(epic,window,document),function(n,t,i){function r(){}function l(t,i,r,f){var a;if(typeof i!="string")return n.fail("[event_name] must be a valid event name.");var s=t.uid||(t.uid=o()),h=u[s]||(u[s]={}),v=r.uid||(r.uid=o()),l=s+"_"+i+"_"+v;return e[l]?!1:(a={method:r,parameters:f||{}},(h[i]||(h[i]=[])).push(a),c(t,i,s),e[l]=!0,!0)}function a(){}function v(){}function y(n,t,i){var r=i+"_"+t;f[r]||(f[r]=!0,n.addEventListener(t,s,!1))}function p(n,t,i){var r=i+"_"+t;f[r]||(f[r]=!0,n.attachEvent("on"+t,s))}function s(n){var t=new h(n),f=t.target,e=u[f.uid],i,r,o,s=0;if(e)for(i=e[t.type],o=i.length;o--;)r=i[s++],r.method.call(f,t,r.parameters);return this}function h(n){var h=n.target||n.srcElement||i,o=n.which,a=n.charCode,v=n.keyCode,f=n.type,c=0,y,p,w={8:"BACKSPACE",9:"TAB",10:"ENTER",13:"ENTER",20:"CAPSLOCK",27:"ESC",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE"},l=!1,t=o?o:v,s="",e,r,u;f=="DOMMouseScroll"&&(f="mousewheel");n.altKey?e="ALT":n.ctrlKey||n.metaKey?e="CTRL":n.shiftKey||a==16?e="SHIFT":t==20&&(e="CAPSLOCK");t=o===undefined&&a===undefined?v:o!=0&&a!=0?o:v;s=t>31?String.fromCharCode(t):"";(t>96&&t<123&&e=="SHIFT"||t>64&&t<91&&e!="SHIFT")&&(l=!0);(f=="keydown"||f=="keyup")&&(s=="CAPSLOCK"&&(l=!l),t>64&&t<91&&e!="SHIFT"&&(t=t+32,s=String.fromCharCode(t)));w[t]&&(s=w[t]);f=="mousewheel"&&(c=n.detail?n.detail*-1:n.wheelDelta/40,c=c>0?1:-1);n.pageX==null&&n.clientX!=null&&(r=i.documentElement,u=i.body,y=n.clientX+(r&&r.scrollLeft||u&&u.scrollLeft||0)-(r&&r.clientLeft||u&&u.clientLeft||0),p=n.clientY+(r&&r.scrollTop||u&&u.scrollTop||0)-(r&&r.clientTop||u&&u.clientTop||0));this.target=h.nodeType===3?h.parentNode:h;this.from_element=n.fromElement||n.originalTarget;this.to_element=n.toElement||h;this.type=f;this.page_x=y;this.page_y=p;this.key_code=t;this.key_value=s;this.metaKey=e;this.delta=c;this.capslock=l;this.button=n.button;this.relatedTarget=n.relatedTarget||f=="mouseover"?n.fromElement:f=="mouseout"?n.toElement:null}var u={},e={},f={},o=n.uid.next,c=i.addEventListener?y:p;h.prototype={preventDefault:function(){this.original.preventDefault()},stopPropagation:function(){var n=this.original;return n.cancelBubble=!0,n.stopPropagation(),n.preventDefault(),!1}};r.add=l;r.remove=a;r.trigger=v;r.registry=u;n.event=r}(epic,window,document);