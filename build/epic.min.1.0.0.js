var epic=function(){function n(){}return window.console===undefined&&(window.console={log:function(){}}),n.type=function(){function n(n){var r=typeof n;return n==null?"null":r==="object"||r==="function"?t[i.call(n)]||"object":r}var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"},i=t.toString;return n.is_window=function(n){return n!=null&&n==n.window},n.is_numeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},n.is_undefined=function(n){return typeof n=="undefined"},n.is_array=function(t){return n(t)==="array"},n.is_function=function(t){return n(t)==="function"},n.is_string=function(t){return n(t)==="string"},n.is_object=function(t){return n(t)==="object"},n.is_boolean=function(t){return n(t)=="boolean"},n.is_regexp=function(t){return n(t)=="regexp"},n.is_element=function(n){return n&&n.nodeName!=null},n}(),n.parse={currency:function(n,t){for(var f=n+"",r=f.split("."),i=r[0],e=r.length?"."+r[1]:"",u=/(\d+)(\d{3})/;u.test(i);)i=i.replace(u,"$1,$2");return(t?t+" ":"")+i+e},url:function(n){var t=document.createElement("a"),i={};return t.href=n,t.search.replace(/([^?=&]+)(=([^&]*))?/g,function(n,t,r,u){return i[t]=u,n}),{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname,query:i,bookmark:t.hash}}},n.fail=function(n){console.log(n)},n.start=function(n){n()},n}();(function(n){n.uid=function(){function n(){}return n.seed=(new Date).getTime(),n.next=function(){return++n.seed},n}();n.merge=function(){function n(){return new i(arguments)}function t(n,t){var f=n.length,r,i,u;for(t=t||{},i=0;i<f;i++){r=n[i];for(u in r)t[u]=r[u]}return t}function i(n){this.objects=n}return i.prototype.and=function(){for(var i=this.objects,r=arguments,n=r.length;n--;)i[n+1]=r[n];return t(i,{})},n.objects=t,n}();n.copy=function(n){function i(){return new t(arguments)}function t(n){this.objects=n}return t.prototype.into=function(t){n(this.objects,t)},t.prototype.into_undefined=function(n){for(var t,u=this.objects,f=u.length,i,r=0;r<f;r++){i=u[r];for(t in i)n[t]===undefined&&(n[t]=i[t])}},i}(n.merge.objects);n.clone=function(){function n(t,i,r){var o=epic.type(t),u,e,f,s;switch(o){case"object":u=i||{};for(e in t)t.hasOwnProperty(e)&&(u[e]=n(t[e],null,r));break;case"array":for(u=i||[],f=0,s=t.length;f<s;f++)u[f]=n(t[f],null,r);break;case"date":u=new Date;u.setTime(t.getTime());break;case"null":case"string":case"function":u=t;break;default:epic.fail("Unable to copy. Object type ["+o+"] isn't supported.")}return u}return n}()})(epic.tools||(epic.tools={})),function(n){function t(){}function i(){for(var i,r=arguments,f=r.length,u={},n,t=0;t<f;t++){n=r[t];for(i in n)u[i]=n[i]}return u}i.deep=function(){};t.merge=i;t.to_array=function(n){if(n==null)return null;var t=Array.prototype.slice.call(n);return t.length>0?t:[n]};n.object=t}(epic),function(n){function r(n){return new t(n)}function t(n){this.input=n}function u(){for(var c=this,n=i,t=c.encode_utf8(c.input),v=t.length,r=0,o="",s,u,f,l,a,h,e;r<v;)s=t.charCodeAt(r++),u=t.charCodeAt(r++),f=t.charCodeAt(r++),l=s>>2,a=(s&3)<<4|u>>4,h=(u&15)<<2|f>>6,e=f&63,isNaN(u)?h=e=64:isNaN(f)&&(e=64),o=o+n.charAt(l)+n.charAt(a)+n.charAt(h)+n.charAt(e);return o}function f(){for(var s=this,u=i,t=s.input.replace(/[^A-Za-z0-9\+\/\=]/g,""),v=t.length,r=0,n="",h,c,l,a,e,f,o;r<v;)a=u.indexOf(t.charAt(r++)),e=u.indexOf(t.charAt(r++)),f=u.indexOf(t.charAt(r++)),o=u.indexOf(t.charAt(r++)),h=a<<2|e>>4,c=(e&15)<<4|f>>2,l=(f&3)<<6|o,n=n+String.fromCharCode(h),f!=64&&(n=n+String.fromCharCode(c)),o!=64&&(n=n+String.fromCharCode(l));return s.decode_utf8(n)}function e(){for(var i=this.input.replace(/\r\n/g,"\n"),r=i.length,u=0,t="",n;r--;)n=i.charCodeAt(u++),n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(n&63|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(n&63|128));return t}function o(){for(var i=this.input,e=i.length,n=0,r="",t,u,f;n<e;)t=i.charCodeAt(n),t<128?(r+=String.fromCharCode(t),n++):t>191&&t<224?(u=i.charCodeAt(n+1),r+=String.fromCharCode((t&31)<<6|u&63),n+=2):(u=i.charCodeAt(n+1),f=i.charCodeAt(n+2),r+=String.fromCharCode((t&15)<<12|(u&63)<<6|f&63),n+=3);return r}function s(){return encodeURIComponent(this.input)}function h(){return decodeURIComponent(this.input)}function c(n){return this.input.replace(/./g,n?v:a)}function l(){return this.input.replace(/&#(\d)+;/g,y)}function a(n){var t=n.charCodeAt(0);return t>31&&t<96||t>96&&t<127?n:"&#"+t+";"}function v(n){var t=n.charCodeAt(0);return t!=34&&t!=39&&t!=38&&t!=60&&t!=62&&(t>31&&t<96||t>96&&t<127)?n:"&#"+t+";"}function y(n){return String.fromCharCode(n.replace(/[#&;]/g,""))}function p(){return this.input.toUpperCase()}function w(){return this.input.toLowerCase()}t.prototype={encode_base64:u,decode_base64:f,encode_utf8:e,decode_utf8:o,encode_url:s,decode_url:h,encode_html_entities:c,decode_html_entities:l,ucase:p,lcase:w};n.string=r;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}(epic);epic.collection=function(){function n(){this.collection={}}function t(n){var t=this,r=t.to_string(n),i=t.collection[r];return typeof i=="undefined"?undefined:i.value}function i(n,t){if(n===undefined||t===undefined)return undefined;var i=this.get(n);return this.collection[this.to_string(n)]={key:n,value:t},i}function r(n){var t=this,i=t.to_string(n),r=t.collection[i];return r!=undefined?(delete this.collection[i],r.value):undefined}function u(n){return String(n)}return n.prototype={get:t,set:i,remove:r,to_string:u},n}(),function(n,t,i,r){function c(t){for(var o=t.length,s=0,i,r,u,f,e;o--;)if(i=t[s++],r=i[0],u=i[1],f=i[2],e=i[3],r&&r.indexOf(f||u)>-1)return new RegExp((e||f||u)+"[\\/\\s](\\d+\\.\\d+)").test(r),[n.string(u).lcase(),parseFloat(RegExp.$1)];return null}function v(n){var r=i.createElement("a"),u,t="";return r.href=i.location,u=r.port,n&&(t=r.pathname.replace(/^[/]/,""),t&&(t=t.substring(0,t.lastIndexOf("/"))+"/")),r.protocol+"//"+r.hostname+(u&&u!=0?":"+u:"")+"/"+t}function y(n,t,r){var o,c="src",h,l=typeof t,u,e,a;return(/^http/i.test(n)==!1&&(n=f.url+n),s[n]!=null)?(r&&r.free(),s[n].element):(l=="function"&&(r=t),l!="string"&&(t=n.split("?")[0].file_ext()),t=="js"?(o="script",h=t="javascript"):(o="link",c="href",h="stylesheet"),u=i.createElement(o),u.setAttribute("type","text/"+t),u.setAttribute("rel",h),u.setAttribute(c,n),e={element:u,loaded:!1,callback:r},r&&(u.onreadystatechange=function(){var n=this.readyState;(n==="loaded"||n==="complete")&&e.loaded==!1&&(this.onreadystatechange=null,e.loaded=!0,e.callback())},u.onload=function(){e.loaded==!1&&(e.loaded=!0,e.callback())},t=="css"&&f.name=="firefox"&&(u.textContent='@import "'+n+'"',a=setInterval(function(){try{clearInterval(a);r&&r()}catch(n){}},50))),setTimeout(function(){i.getElementsByTagName("head")[0].insertBefore(u,null)},10),s[n]=e,u)}var u=r.userAgent,e=r.vendor,o=r.platform,l=[[u,"Chrome"],[u,"OmniWeb","","OmniWeb/"],[e,"Safari","Apple","Version"],[t.opera,"Opera"],[e,"iCab"],[e,"Konqueror","KDE"],[u,"Firefox"],[e,"Camino"],[u,"Netscape"],[u,"Explorer","MSIE"],[u,"Gecko","Mozilla","rv"],[u,"Netscape","Mozilla"]],a=[[o,"Windows","Win"],[o,"Mac"],[u,"iPhone","iPhone/iPod"],[o,"Linux"]],h=c(l),f=n.browser={webkit:u.indexOf("AppleWebKit/")>-1,gecko:u.indexOf("Gecko")>-1&&u.indexOf("KHTML")===-1,name:h[0],os:c(a)[0],version:h[1],load:function(n,t,i){setTimeout(function(){y(n,t,i)},10)}},s=[];if(f.ie=f.name=="explorer",f.get_current_url=v,f.ie)try{i.execCommand("BackgroundImageCache",!1,!0)}catch(p){}}(epic,window,document,navigator);epic.html=function(n){function t(i){var r=this;if(r instanceof t==!1)return new t(i);r.elements=n.type(i)=="array"?i:[i]}return t.prototype={empty:function(){for(var t=this,i=t.elements,r=i.length,n;r--;)for(n=i[r];n.firstChild;)n.removeChild(n.firstChild);return t},insert:function(i,r){i=i instanceof t?i.elements:i instanceof Array?i:[i];var o=i.length,l=this,s=l.elements[0],h=null,u,e=[];if(r!==undefined){for(var c=s.childNodes,a=c.length,v=n.string.trim,y=0,f;a--;)f=c[y++],(f.nodeType==1||f.nodeType==3&&v(f.textContent)!="")&&(e[e.length]=f);r>-1&&r<e.length&&(h=e[r])}while(o--)(u=i[o],u)&&(u.nodeType||(u=document.createTextNode(u)),s.insertBefore(u,h))}},t}(epic);